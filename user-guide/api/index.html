<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Victor Castell">
        <link rel="canonical" href="http://dcron.io/user-guide/api/">
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Api - Dcron - Distributed cron</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../css/custom.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-571371-14', 'dcron.io');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body class="">
        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <div class="brand">
                <a class="logo" href="../.."></a>
            </div>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="main-links nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li >
                    <a href="../../intro/">Intro</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../about/dcron_vs_other_software/">Dcron vs other software</a>
                        </li>
                    
                        <li >
                            <a href="../../about/license/">License</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">User guide <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li class="active">
                            <a href="./">Api</a>
                        </li>
                    
                        <li >
                            <a href="../dcron-internals/">Dcron internals</a>
                        </li>
                    
                        <li >
                            <a href="../getting-started/">Getting started</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../../about/license/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../dcron-internals/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/victorcoder/dcron">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        
        <div class="container">
            
            <div class="col-md-3 toc"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#rest-api">REST API</a></li>
        
            <li><a href="#leaders">Leaders</a></li>
        
            <li><a href="#index">Index</a></li>
        
            <li><a href="#get-jobs">Get Jobs</a></li>
        
            <li><a href="#deleting-a-job">Deleting a Job</a></li>
        
            <li><a href="#manually-starting-a-job">Manually Starting a Job</a></li>
        
            <li><a href="#get-job-executions">Get job executions</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="rest-api">REST API</h1>
<p>You can communicate with Dcron using a RESTful JSON API over HTTP. Dcron nodes usually listen on port 8080 for API requests. All examples in this section assume that you've found a running leader at dcron-node:8080.</p>
<p>Dcron implements a RESTful JSON API over HTTP to communicate with software clients. Dcron listens in port 8080 by default. All examples in this section assume that you're using the default port.</p>
<p><a href="#leaders">Leaders</a></p>
<h2 id="leaders">Leaders</h2>
<p>When you have multiple Dcron nodes in server mode running, only one of them will be elected as the leader. In Dcron you can talk to any node running in server mode all of them could handle your request but only the leader will actually run the scheduler.</p>
<h2 id="index">Index</h2>
<ul>
<li>Endpoint: /</li>
<li>Method: GET</li>
<li>Example: curl -XGET dcron-node:8080</li>
</ul>
<p>It returns info about the agent queried.</p>
<h2 id="get-jobs">Get Jobs</h2>
<ul>
<li>Endpoint: /jobs</li>
<li>Method: GET</li>
<li>Example: curl -L -X GET dcron-node:8080/jobs</li>
</ul>
<h2 id="deleting-a-job">Deleting a Job</h2>
<p>Get a job name from the job listing above. Then:</p>
<ul>
<li>Endpoint: /jobs/jobName</li>
<li>Method: DELETE</li>
<li>Example: curl -L -X DELETE dcron-node:8080/job/aggregate_stats</li>
</ul>
<h2 id="manually-starting-a-job">Manually Starting a Job</h2>
<p>You can manually start a job by issuing an HTTP request.</p>
<ul>
<li>Endpoint: /jobs/job_name</li>
<li>Method: PUT</li>
<li>Query string parameters: arguments - optional string with a list of command line arguments that is appended to job's command</li>
<li>Example: curl -L -X PUT dcron-node:8080/jobs/aggregate_stats</li>
<li>Example: curl -L -X PUT dcron-node:8080/jobs/aggregate_stats?arguments=-debug</li>
</ul>
<h2 id="get-job-executions">Get job executions</h2>
<ul>
<li>Endpoint: /executions/job</li>
<li>Method: GET</li>
<li>Example: curl -L -X GET dcron-node:8080/executions/aggregate_stats</li>
</ul></div>
            
        </div>

        

        <footer class="col-md-12">
            <hr>
            <div class="footer-logo">
              <center><img src="/img/dcron-logo-blue.png"/></center>
            </div>
            
                <center>Â© Victor Castell victor@victorcastell.com</center>
            
            <center>Web desing by <a href="http://www.collagestudio.es/">Collage Studio</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>