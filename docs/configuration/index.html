<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Victor Castell">
        <link rel="canonical" href="http://dkron.io/docs/configuration/">
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Configuration - Dkron - Distributed, fault tolerant job scheduling system</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/app.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-571371-14', 'dkron.io');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body class=" with-toc">

            <div class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">

            <!-- Collapsed navigation -->
            <div class="navbar-header">
                <!-- Expander button -->
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>

                <!-- Main title -->
                <div class="brand">
                    <a class="logo" href="../..">Dkron</a>
                </div>
            </div>

            <!-- Expanded navigation -->
            <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="main-links nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../intro/">Intro</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Docs <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../getting-started/">Getting started</a>
                            </li>
                        
                            <li class="active">
                                <a href="./">Configuration</a>
                            </li>
                        
                            <li >
                                <a href="../api/">Api</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../about/dkron_vs_other_software/">Dkron vs other software</a>
                            </li>
                        
                            <li >
                                <a href="../../about/license/">License</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                </ul>

                <!-- Search, Navigation and Repo links -->
                <ul class="nav navbar-nav navbar-right">

                    

                    <li >
                        <a rel="next" href="../getting-started/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../api/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>

                    

                    <li>
                        <a href="https://twitter.com/dkronio">
                          <i class="fa fa-twitter fa-lg"></i>
                          Follow
                        </a>
                    </li>

                    <li>
                        <a href="https://github.com/victorcoder/dkron/releases">
                          <i class="fa fa-cloud-download fa-lg"></i>
                          Download
                        </a>
                    </li>

                    
                    <li>
                        <a href="https://github.com/victorcoder/dkron">
                            <i class="fa fa-github fa-lg"></i>
                            GitHub
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </div>

        
            

              <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#configuration">Configuration</a></li>
        
            <li><a href="#command-line-options">Command line options</a></li>
        
    
        <li class="main "><a href="#example">Example</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="configuration">Configuration</h1>
<p>Settings for dkron can be specified in three ways: Using a <code>config/dkron.json</code> config file, using env variables starting with <code>DKRON_</code> or using command line arguments.</p>
<h2 id="command-line-options">Command line options</h2>
<ul>
<li>
<p><code>-node</code> - Name of the node, must be unique in the cluster. By default this is the hostname of the machine.</p>
</li>
<li>
<p><code>-bind</code> - The address that dkron will bind to for communication with other dkron nodes. By default this is "0.0.0.0:8946". dkron nodes may have different ports. If a join is specified without a port, we default to locally configured port. dkron uses both TCP and UDP and use the same port for both, so if you have any firewalls be sure to allow both protocols. If this configuration value is changed and no port is specified, the default of "8946" will be used.</p>
</li>
<li>
<p><code>-join</code> - Address of another agent to join upon starting up. This can be specified multiple times to specify multiple agents to join. If Dkron is unable to join with any of the specified addresses, agent startup will fail. By default, the agent won't join any nodes when it starts up.</p>
</li>
<li>
<p><code>-advertise</code> - The advertise flag is used to change the address that we advertise to other nodes in the cluster. By default, the bind address is advertised. However, in some cases (specifically NAT traversal), there may be a routable address that cannot be bound to. This flag enables gossiping a different address to support this. If this address is not routable, the node will be in a constant flapping state, as other nodes will treat the non-routability as a failure.</p>
</li>
<li>
<p><code>-http-addr</code> - The address where the web UI will be binded. By default <code>:8080</code></p>
</li>
<li>
<p><code>-backend</code> - Backend storage to use, etcd, consul or zk (zookeeper). The default is etcd.</p>
</li>
<li>
<p><code>-backend-machine</code> - Comma separated addresses of the etcd machines to use. Could be one or several. By default <code>127.0.0.1:2379</code></p>
</li>
<li>
<p><code>-tag</code> - The tag flag is used to associate a new key/value pair with the agent. The tags are gossiped and can be used to provide additional information such as roles, ports, and configuration values to other nodes. Multiple tags can be specified per agent. There is a byte size limit for the maximum number of tags, but in practice dozens of tags may be used. Tags can be changed during a config reload.</p>
</li>
<li>
<p><code>-server</code> - If this agent is a dkron server, just need to be present. Absent by default.</p>
</li>
<li>
<p><code>-keyspace</code> - Keyspace to use for the store. Allows to run different instances using the same storage cluster. <code>dkron</code> by default.</p>
</li>
<li>
<p><code>-encrypt</code> - Key for encrypting network traffic. Must be a base64-encoded 16-byte key.</p>
</li>
<li>
<p><code>-mail-host</code> - Mail server host address to use for notifications.</p>
</li>
<li>
<p><code>-mail-port</code> - Mail server port.</p>
</li>
<li>
<p><code>-mail-username</code> - Mail server username used for authentication.</p>
</li>
<li>
<p><code>-mail-password</code> - Mail server password to use.</p>
</li>
<li>
<p><code>-mail-from</code> - From email address to use.</p>
</li>
<li>
<p><code>-webhook-url</code> - Webhook url to call for notifications.</p>
</li>
<li>
<p><code>-webhook-payload</code> - Body of the POST request to send on webhook call.</p>
</li>
<li>
<p><code>-webhook-header</code> - Headers to use when calling the webhook URL. Can be specified multiple times.</p>
</li>
<li>
<p><code>-log-level</code> - Set the log level (debug, info, warn, error, fatal, panic). Defaults to "info"</p>
</li>
<li>
<p><code>-ui-dir</code> - Directory from where to serve web UI.</p>
</li>
<li>
<p><code>-rpc-port</code> - The port that Dkron will use to bind for the agent's RPC server, defaults to <code>6868</code>. The RPC address will be the bind address.</p>
</li>
</ul>
<h1 id="example">Example</h1>
<pre><code class="json"># Dkron example configuration file
{
  &quot;backend&quot;: &quot;etcd&quot;,
  &quot;backend_machine&quot;: &quot;127.0.0.1:2379&quot;,
  &quot;server&quot;: false,
  &quot;debug&quot;: false,
  &quot;tags&quot;: {
    &quot;role&quot;: &quot;web&quot;,
    &quot;datacenter&quot;: &quot;east&quot;
  },
  &quot;keyspace&quot;: &quot;dkron&quot;,
  &quot;encrypt&quot;: &quot;a-valid-key-generated-with-dkron-keygen&quot;,
  &quot;join&quot;: [
    &quot;10.0.0.1&quot;,
    &quot;10.0.0.2&quot;,
    &quot;10.0.0.3&quot;
  ],
  &quot;webhook_url&quot;: &quot;https://hooks.slack.com/services/XXXXXX/XXXXXXX/XXXXXXXXXXXXXXXXXXXX&quot;,
  &quot;webhook_payload&quot;: &quot;payload={\&quot;text\&quot;: \&quot;{{.Report}}\&quot;, \&quot;channel\&quot;: \&quot;#foo\&quot;}&quot;,
  &quot;webhook_headers&quot;: &quot;Content-Type:application/x-www-form-urlencoded&quot;,
  &quot;mail_host&quot;: &quot;email-smtp.eu-west-1.amazonaws.com&quot;,
  &quot;mail_port&quot;: 25,
  &quot;mail_username&quot;: &quot;mailuser&quot;,
  &quot;mail_password&quot;: &quot;mailpassword&quot;,
  &quot;mail_from&quot;: &quot;cron@example.com&quot;
}
</code></pre></div>
              </div>

            

        

        <footer class="col-md-12" role="contentinfo">
            <hr>
            <div class="footer-logo">
              <img src="/img/dkron-logo-blue.png"/>
            </div>
             
                <p>© 2015 Victor Castell - victor@victorcastell.com</p>
            
            <p>Web design by <a href="http://www.collagestudio.es/">Collage Studio</a>.</p>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
        <script src="../../js/app.js"></script>
    </body>
</html>